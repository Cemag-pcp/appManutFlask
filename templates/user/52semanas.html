{% extends "user/layout.html" %}
{% block body %}

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class="flash">
      {% for message in messages %}
        {% if message == 'Máquina cadastrada com sucesso' %}
          <div class="alert alert-success">
            <a class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>Success! </strong> {{ message }}
          </div>
        {% else %}
          <div class="alert alert-danger">
            <a class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>Danger! </strong> {{ message }}
          </div>
        {% endif %}
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}


<div id = 'filtro_semanas' class='row'>  
  <div class="carta">
    <div><h3 class="sem">52 semanas</h3></div>
    <form action="{{ url_for('routes.plan_52semanas') }}" method="POST">
        <table>
            <thead> 
                <tr id = 'semanas_primeira_tabela'>
                  <td>Codigo</td>
                  <td>Descrição</td>
                  <td>Setor</td>
                  <td>Criticidade</td>
                  <td>Data inicial</td>
                  <td>Periodicidade</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" class="form-control" name="codigo" required></td>
                    <td><input style = 'margin-left: 15px; width: 180px;' type="text" class="form-control" name="descricao" required></td>
                    <td>
                      <div class="form-group" style="margin-left: 15px; margin-top: 15px; padding: 3px; width: 170px;">                
                        <select class="form-control form-control" id="setor" name="setor" required>
                          <option value="" selected disabled hidden></option>  
                          <option>Administrativo</option>
                          <option>Estamparia</option>
                          <option>Solda</option>
                          <option>Montagem</option>
                          <option>Pintura</option>
                          <option>Carpintaria</option>
                          <option>Almoxarifado</option>
                          <option>Usinagem</option>
                          <option>Serra</option>
                          <option>Corte</option>
                          <option>Serralheria</option>
                        </select>
                      </div>
                    </td>
                      <td>
                        <div class="form-group" style="margin-right: 3px; margin-top: 15px; padding: 3px; width: 100px;">                
                          <select style = 'width: 60px; margin-left: 20px;' class="form-control form-control" id="criticidade" name="criticidade" required>
                            <option value="" selected disabled hidden></option>  
                            <option>A</option>
                            <option>B</option>
                            <option>C</option>
                          </select>
                        </div>
                      </td>
                    <td><input style='width: 170px;' type="date" class="form-control" name="manut_inicial" required></td>
                    <td>
                      <div class="form-group" style="margin-left: 15px; margin-top: 15px; padding: 3px; width: 150px;">                
                        <select class="form-control form-control" id="periodicidade" name="periodicidade" required>
                          <option value="" selected disabled hidden></option>  
                          <option>Semanal</option>
                          <option>Quinzenal</option>
                          <option>Mensal</option>
                          <option>Bimestral</option>
                          <option>Semestral</option>
                        </select>
                      </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <button id = 'botao_52semanas' class="btn btn-primary btn-block">
            Inserir 
        </button>
    </form>
  </div>
</div>

<div id = "tabela2" class='container-fluid'>
  <div class="row justify-content-md-center">
    <div class = "board2" style="overflow-x: auto;">
      <table id="table2" class="table table-striped">
        <thead>
          <tr>
            <th style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"></th>
            {% for coluna in colunas %}
              <th style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{ coluna }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for row in data %}
            <tr id="linhas_52semanas" style="text-overflow: ellipsis; white-space: nowrap;">
                <td>
                  <a href="/timeline-preventiva/{{row[0]}}"> 
                      <i class="fas fa-clock"></i> 
                  </a>
                </td>
                <td>{{ row[0] }}</td>
                <td>{{ row[1] }}</td>
                <td>{{ row[2] }}</td>
                <td>{{ row[3] }}</td>
                <td>{{ row[4] }}</td>
                <td>{{ row[5] }}</td>
                <td>{{ row[6] }}</td>
                <td>{{ row[7] }}</td>
                <td>{{ row[8] }}</td>
                <td>{{ row[9] }}</td>
                <td>{{ row[10] }}</td>
                <td>{{ row[11] }}</td>
                <td>{{ row[12] }}</td>
                <td>{{ row[13] }}</td>
                <td>{{ row[14] }}</td>
                <td>{{ row[15] }}</td>
                <td>{{ row[16] }}</td>
                <td>{{ row[17] }}</td>
                <td>{{ row[18] }}</td>
                <td>{{ row[19] }}</td>
                <td>{{ row[20] }}</td>
                <td>{{ row[21] }}</td>
                <td>{{ row[22] }}</td>
                <td>{{ row[23] }}</td>
                <td>{{ row[24] }}</td>
                <td>{{ row[25] }}</td>
                <td>{{ row[26] }}</td>
                <td>{{ row[27] }}</td>
                <td>{{ row[28] }}</td>
                <td>{{ row[29] }}</td>
                <td>{{ row[30] }}</td>
                <td>{{ row[31] }}</td>
                <td>{{ row[32] }}</td>
                <td>{{ row[33] }}</td>
                <td>{{ row[34] }}</td>
                <td>{{ row[35] }}</td>
                <td>{{ row[36] }}</td>
                <td>{{ row[37] }}</td>
                <td>{{ row[38] }}</td>
                <td>{{ row[39] }}</td>
                <td>{{ row[40] }}</td>
                <td>{{ row[41] }}</td>
                <td>{{ row[42] }}</td>
                <td>{{ row[42] }}</td>
                <td>{{ row[44] }}</td>
                <td>{{ row[45] }}</td>
                <td>{{ row[46] }}</td>
                <td>{{ row[47] }}</td>
                <td>{{ row[48] }}</td>
                <td>{{ row[49] }}</td>
                <td>{{ row[50] }}</td>
                <td>{{ row[51] }}</td>
                <td>{{ row[52] }}</td>
                <td>{{ row[53] }}</td>
                <td>{{ row[54] }}</td>
                <td>{{ row[55] }}</td>
                <td>{{ row[56] }}</td>
                <td>{{ row[57] }}</td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}