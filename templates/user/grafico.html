{% extends "user/layout.html" %}
{% block body %}

{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
<div class="alert alert-warning" role="alert" style="width: 45%;">
    <strong>Aviso!</strong> {{ message }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
{% endfor %}
{% endif %}
{% endwith %}


<div id='form_filtros_graficos'>
    <a href="#" onclick="window.history.back();" class="botao-voltar">
        <i class="fas fa-arrow-left"></i>
    </a>
    <h4>Gráficos</h4>
    <form id="formulario" action="{{ url_for('routes.grafico') }}" method="POST">

        <label for="filtro_setor">Setor:</label>
        <select id="filtro_setor" name="filtro_setor" multiple>

            {% for setor in setores %}
            {% if setor[0] in lista_setore_selecionado %}
            <option value="{{ setor[0] }}" selected>{{ setor[0] }}</option>
            {% else %}
            <option value="{{ setor[0] }}">{{ setor[0] }}</option>
            {% endif %}
            {% endfor %}

        </select>

        <!-- <label for="area_manutencao">Área de Manutenção:</label>
    <select class="select2"id="area_manutencao" name="area_manutencao">
        <option value="">Todos</option>
        <option value="{{area_manutencao}}" selected disabled hidden>{{area_manutencao}}</option>
        <option value="Predial" >Predial</option>
        <option value="Mecânica" >Mecânica</option>
        <option value="Elétrica" >Elétrica</option>
    </select> -->

        <label for="data_filtro">Mês:</label>
        <select id="data_filtro" name="data_filtro" multiple>
            <option value="1" {% if not todos_meses and 1 in mes %}selected{% endif %}>Janeiro</option>
            <option value="2" {% if not todos_meses and 2 in mes %}selected{% endif %}>Fevereiro</option>
            <option value="3" {% if not todos_meses and 3 in mes %}selected{% endif %}>Março</option>
            <option value="4" {% if not todos_meses and 4 in mes %}selected{% endif %}>Abril</option>
            <option value="5" {% if not todos_meses and 5 in mes %}selected{% endif %}>Maio</option>
            <option value="6" {% if not todos_meses and 6 in mes %}selected{% endif %}>Junho</option>
            <option value="7" {% if not todos_meses and 7 in mes %}selected{% endif %}>Julho</option>
            <option value="8" {% if not todos_meses and 8 in mes %}selected{% endif %}>Agosto</option>
            <option value="9" {% if not todos_meses and 9 in mes %}selected{% endif %}>Setembro</option>
            <option value="10" {% if not todos_meses and 10 in mes %}selected{% endif %}>Outubro</option>
            <option value="11" {% if not todos_meses and 11 in mes %}selected{% endif %}>Novembro</option>
            <option value="12" {% if not todos_meses and 12 in mes %}selected{% endif %}>Dezembro</option>
        </select>

        <label for="maquinas-favoritas">Máquinas importantes</label>

        <label class="switch">
            {% if maquinas_importantes %}
            <input type="checkbox" name="maquinas-favoritas" id="maquinas-favoritas" checked>
            {% else %}
            <input type="checkbox" name="maquinas-favoritas" id="maquinas-favoritas">
            {% endif %}
            <span class="slider round"></span>
        </label>

        <button id="filtra_grafico" type="submit">Filtrar</button>
    </form>
    <button id="menu-button"><i class="fa-solid fa-bars"></i></button>
</div>
<div class="cardBox">
    <div class='card'>
        <div>
            <h5 class="card-title">Em Execução</h5>
            <p class="card-text">{{lista_qt[3]}}</p>
        </div>
        <div class="iconBx">
            <i class="fa-solid fa-bars-progress"></i>
        </div>
    </div>
    <div class='card'>
        <div>
            <h5 class="card-title"></i>Em Espera</h5>
            <p class="card-text">{{lista_qt[0]}}</p>
        </div>
        <div class="iconBx">
            <i class="fa-solid fa-lock-open"></i>
        </div>
    </div>
    <div class='card'>
        <div>
            <h5 class="card-title"></i>Finalizadas</h5>
            <p class="card-text">{{lista_qt[2]}}</p>
        </div>
        <div class="iconBx">
            <i class="fa-sharp fa-solid fa-square-check"></i>
        </div>
    </div>
    <div class='card'>
        <div>
            <h5 class="card-title">Aguardando material</h5>
            <p class="card-text">{{lista_qt[1]}}</p>
        </div>
        <div class="iconBx">
            <i class="fa-solid fa-spinner"></i>
        </div>
    </div>


</div>
<div class="graphBox">
    <div class="box">
        <canvas id="grafico1"></canvas>
        <div class="details">
            <div class="recentOrders">
                <div class="cardHeader">
                    <h3>MTBF por máquina</h3>
                </div>
                <table class="table" id="tabela_graficos1">
                    <thead>
                        <tr>
                            <td>Máquina</td>
                            <td>Quantidade</td>
                            <td>Carga</td>
                            <td>MTBF</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for mtbf_maquina in lista_mtbf_maquina %}
                        <tr>
                            <td>{{mtbf_maquina[0]}}</td>
                            <td>{{mtbf_maquina[1]}}</td>
                            <td>{{mtbf_maquina[2]}}</td>
                            <td>{{mtbf_maquina[3]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="graphBox">
    <div class="box">
        <canvas id="grafico1top10"></canvas>
        <div class="details">
            <div class="recentOrders">
                <div class="cardHeader">
                    <h3>Top 10 menores - MTBF por máquina</h3>
                </div>
                <table class="table" id="tabela_grafico1top10">
                    <thead>
                        <tr>
                            <td>Máquina</td>
                            <td>Qtd. OS</td>
                            <td>H.Trabalhadas</td>
                            <td>MTBF</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for mtbf_maquina_top10 in top_10_maiores_MTBF_lista %}
                        <tr>
                            <td>{{mtbf_maquina_top10[0]}}</td>
                            <td>{{mtbf_maquina_top10[1]}}</td>
                            <td>{{mtbf_maquina_top10[2]}}</td>
                            <td>{{mtbf_maquina_top10[3]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="graphBox">
    <div class="box">
        <canvas id="grafico2"></canvas>
        <div class="details">
            <div class="recentOrders">
                <div class="cardHeader">
                    <h3>MTBF por setor</h3>
                </div>
                <table class="table" id="tabela_graficos2">
                    <thead>
                        <tr>
                            <td>Setor</td>
                            <td>Qnt. OS</td>
                            <td>H.Trabalhadas</td>
                            <td>MTBF</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for mtbf_setor in lista_mtbf_setor %}
                        <tr>
                            <td>{{mtbf_setor[0]}}</td>
                            <td>{{mtbf_setor[1]}}</td>
                            <td>{{mtbf_setor[2]}}</td>
                            <td>{{mtbf_setor[3]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="graphBox">
    <div class="box">
        <canvas id="grafico3"></canvas>
        <div class="details">
            <div class="recentOrders">
                <div class="cardHeader">
                    <h3>MTTR por máquina</h3>
                </div>
                <table class="table" id="tabela_graficos3">
                    <thead>
                        <tr>
                            <td>Máquina</td>
                            <td>Qnt. OS</td>
                            <td>Dif. (H. trab sem parada - H. Parada)</td>
                            <td>MTTR</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for mttr_maquina in lista_mttr_maquina %}
                        <tr>
                            <td>{{mttr_maquina[0]}}</td>
                            <td>{{mttr_maquina[1]}}</td>
                            <td>{{mttr_maquina[2]|round(2)}}</td>
                            <td>{{mttr_maquina[3]|round(2)}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="graphBox">
    <div class="box">
        <canvas id="grafico4"></canvas>
        <div class="details">
            <div class="recentOrders">
                <div class="cardHeader">
                    <h3>MTTR por setor</h3>
                </div>
                <table class="table" id="tabela_graficos4">
                    <thead>
                        <tr>
                            <td>Setor</td>
                            <td>Qtd. OS</td>
                            <td>H.Trabalhadas</td>
                            <td>MTTR</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for mttr_setor in lista_mttr_setor %}
                        <tr>
                            <td>{{mttr_setor[0]}}</td>
                            <td>{{mttr_setor[1]}}</td>
                            <td>{{mttr_setor[2]|round(2)}}</td>
                            <td>{{mttr_setor[3]|round(2)}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="graphBox">
    <div class="box">
        <canvas id="grafico5"></canvas>
        <div class="details">
            <div class="recentOrders">
                <div class="cardHeader">
                    <h3>Disponibilidade Máquina</h3>
                </div>
                <table class="table" id="tabela_graficos5">
                    <thead>
                        <tr>
                            <td>Máquina</td>
                            <td>MTBF</td>
                            <td>MTTR</td>
                            <td>Disponibilidade</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for disponibilidade_maquina in lista_disponibilidade_maquina %}
                        <tr>
                            <td>{{disponibilidade_maquina[0]}}</td>
                            <td>{{disponibilidade_maquina[1]}}</td>
                            <td>{{disponibilidade_maquina[2]}}</td>
                            <td>{{disponibilidade_maquina[3]|round(2)}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="graphBox">
    <div class="box">
        <canvas id="grafico6"></canvas>
        <div class="details">
            <div class="recentOrders">
                <div class="cardHeader">
                    <h3>Disponibilidade Setor</h3>
                </div>
                <table class="table" id="tabela_graficos6">
                    <thead>
                        <tr>
                            <td>Setor</td>
                            <td>MTBF</td>
                            <td>MTTR</td>
                            <td>Disponibilidade</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for disponibilidade_setor in lista_disponibilidade_setor %}
                        <tr>
                            <td>{{disponibilidade_setor[0]}}</td>
                            <td>{{disponibilidade_setor[1]}}</td>
                            <td>{{disponibilidade_setor[2]}}</td>
                            <td>{{disponibilidade_setor[3]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="graphBox">
    <div class="box2">
        <canvas id="grafico7"></canvas>
        <div class="details2">
            <div class="recentOrders2">
                <div class="cardHeader">
                    <h3>Horas trabalhadas (tipo de manutenção)</h3>
                </div>
                <table class="table" id="tabela_graficos7">
                    <thead>
                        <tr>
                            <td>Tipo de manutenção</td>
                            <td>Horas</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for hora_tipo in lista_horas_trabalhadas_tipo %}
                        <tr>
                            <td>{{hora_tipo [0]}}</td>
                            <td>{{hora_tipo [1]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <canvas id="grafico8"></canvas>
        <div class="details2">
            <div class="recentOrders2">
                <div class="cardHeader">
                    <h3>Horas trabalhadas (área manutenção)</h3>
                </div>
                <table class="table" id="tabela_graficos8">
                    <thead>
                        <tr>
                            <td>Área de manutenção</td>
                            <td>Horas</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for hora_area in lista_horas_trabalhadas_area %}
                        <tr>
                            <td>{{hora_area[0]}}</td>
                            <td>{{hora_area[1]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="graphBox">
    <div class="box3">
        <canvas id="grafico9"></canvas>
        <div class="details">
            <div class="recentOrders">
                <div class="cardHeader">
                    <h3>Horas trabalhadas (por Setor)</h3>
                </div>
                <table class="table" id="tabela_graficos9">
                    <thead>
                        <tr>
                            <td>Setor</td>
                            <td>OS</td>
                            <td>Horas</td>
                            <td>Percentual</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for hora_area in lista_horas_trabalhadas_area %}
                        <tr>
                            <td>{{hora_area[0]}}</td>
                            <td>{{hora_area[1]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="cardBox2">
            <div class='card'>
                <div>
                    <h5 class="card-title">Disponibilidade Geral</h5>
                    <p class="card-text">{{disponibilidade_geral_setor}}%</p>
                </div>
                <div class="iconBx">
                    <i class="fa-solid fa-gear"></i>
                </div>
            </div>
            <!-- <div class='card'>
                <div>
                    <h5 class="card-title"></i>Disponibilidade das Máquinas</h5>
                    <p class="card-text">{{disponibilidade_geral_maquina}}%</p>
                </div>
                <div class="iconBx">
                    <i class="fa-solid fa-gear"></i>
                </div>
            </div> -->
        </div>
    </div>
</div>


<script>

    var eixo_y = {{ dados_mtbf_maquina | safe }};
    var eixo_x = {{ labels_mtbf_maquina | safe }};
    var ctx = document.getElementById('grafico1').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                font: {
                    size: 14 // Define o tamanho da fonte dos rótulos
                },
                label: 'MTBF',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 205, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(201, 203, 207, 1)'
                ],
                borderColor: [
                    'rgb(255, 99, 132)',
                    'rgb(255, 159, 64)',
                    'rgb(255, 205, 86)',
                    'rgb(75, 192, 192)',
                    'rgb(54, 162, 235)',
                    'rgb(153, 102, 255)',
                    'rgb(201, 203, 207)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                    display: true, // Defina como false para remover as grades do eixo x
                },
                y: {
                    display: true, // Defina como false para remover as grades do eixo y
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'MTBF por máquina',
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    },
                    padding: {
                        top: 10,
                        bottom: 30
                    }
                }
            }
        }
    });

    var eixo_y = {{ dados_mtbf_top10_maquina | safe }};
    var eixo_x = {{ labels_mtbf_top10_maquina | safe }};
    var ctx = document.getElementById('grafico1top10').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                font: {
                    size: 14 // Define o tamanho da fonte dos rótulos
                },
                label: 'MTBF',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 205, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(201, 203, 207, 1)'
                ],
                borderColor: [
                    'rgb(255, 99, 132)',
                    'rgb(255, 159, 64)',
                    'rgb(255, 205, 86)',
                    'rgb(75, 192, 192)',
                    'rgb(54, 162, 235)',
                    'rgb(153, 102, 255)',
                    'rgb(201, 203, 207)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            indexAxis: 'y',
            scales: {
                x: {
                    display: true, // Defina como false para remover as grades do eixo x
                },
                y: {
                    display: true, // Defina como false para remover as grades do eixo y
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'MTBF por máquina (top 10 - Menores)',
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    },
                    padding: {
                        top: 10,
                        bottom: 30
                    }
                }
            }
        }
    });
    // Gráfico MTBF por setor

    var eixo_y = {{ dados_mtbf_setor | safe }};
    var eixo_x = {{ labels_mtbf_setor | safe }};
    var ctx = document.getElementById('grafico2').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                font: {
                    size: 14 // Define o tamanho da fonte dos rótulos
                },
                label: 'MTBF',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                    '#1155cc',
                    'rgba(255, 99, 132, 1)',
                    '#b7b7b7',
                    '#0b5394',
                    '#f1c232',
                    '#f1894d',
                    '#00ffff',
                    '#ff9900',
                    'rgba(75, 192, 192, 1)',
                    '#ffff00',
                    '#6aa84f',
                    '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold'
                    },
                },
                title: {
                    display: true,
                    text: 'MTBF por setor (horas)', // Define o texto do título do gráfico
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    }
                },
            }
        },
        plugins: [ChartDataLabels]
    });

    // Gráfico MTTR por máquina

    var eixo_y = {{ dados_mttr_maquina | safe }};
    var eixo_x = {{ labels_mttr_maquina | safe }};
    var ctx = document.getElementById('grafico3').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                font: {
                    size: 10, // Define o tamanho da fonte dos rótulos
                    weight: 'bold' // Define o tamanho da fonte dos rótulos
                },
                label: 'MTTR',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 205, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(201, 203, 207, 1)'
                ],
                borderColor: [
                    'rgb(255, 99, 132)',
                    'rgb(255, 159, 64)',
                    'rgb(255, 205, 86)',
                    'rgb(75, 192, 192)',
                    'rgb(54, 162, 235)',
                    'rgb(153, 102, 255)',
                    'rgb(201, 203, 207)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                    display: true, // Defina como false para remover as grades do eixo x
                },
                y: {
                    display: true, // Defina como false para remover as grades do eixo y
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'MTTR por máquina',
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    },
                    padding: {
                        top: 10,
                        bottom: 30
                    }
                }
            }
        }
    });

    // Gráfico MTTR por setor

    var eixo_y = {{ dados_mttr_setor | safe }};
    var eixo_x = {{ labels_mttr_setor | safe }};
    var ctx = document.getElementById('grafico4').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                font: {
                    size: 10, // Define o tamanho da fonte dos rótulos
                    weight: 'bold' // Define o tamanho da fonte dos rótulos
                },
                label: 'MTTR',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                    '#1155cc',
                    'rgba(255, 99, 132, 1)',
                    '#b7b7b7',
                    '#0b5394',
                    '#f1c232',
                    '#f1894d',
                    '#00ffff',
                    '#ff9900',
                    'rgba(75, 192, 192, 1)',
                    '#ffff00',
                    '#6aa84f',
                    '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                },
                title: {
                    display: true,
                    text: 'MTTR por setor (horas)', // Define o texto do título do gráfico
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    }
                },
            }
        },
        plugins: [ChartDataLabels]
    });

    // Disponibilidade por maquina

    var eixo_y = {{ dados_disponibilidade_maquina | safe }};
    var eixo_x = {{ labels_disponibilidade_maquina | safe }};
    var ctx = document.getElementById('grafico5').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                font: {
                    size: 10, // Define o tamanho da fonte dos rótulos
                    weight: 'bold' // Define o tamanho da fonte dos rótulos
                },
                label: 'Disponibilidade',
                data: eixo_y,
                backgroundColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 205, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(201, 203, 207, 1)'
                ],
                borderColor: [
                    'rgb(255, 99, 132)',
                    'rgb(255, 159, 64)',
                    'rgb(255, 205, 86)',
                    'rgb(75, 192, 192)',
                    'rgb(54, 162, 235)',
                    'rgb(153, 102, 255)',
                    'rgb(201, 203, 207)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                    display: true, // Defina como false para remover as grades do eixo x
                },
                y: {
                    display: true, // Defina como false para remover as grades do eixo y
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'Disponibilidade por máquina',
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    },
                    padding: {
                        top: 10,
                        bottom: 30
                    }
                }
            }

        }
    });

    // Disponibilidade por setor

    var eixo_y = {{ dados_disponibilidade_setor | safe }};
    var eixo_x = {{ labels_disponibilidade_setor | safe }};
    var ctx = document.getElementById('grafico6').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar', // Alterando o tipo de gráfico para pizza
        data: {
            labels: eixo_x,
            datasets: [{
                label: 'Disponibilidade',
                data: eixo_y,
                backgroundColor: [
                    '#1155cc',
                    'rgba(255, 99, 132, 1)',
                    '#b7b7b7',
                    '#0b5394',
                    '#f1c232',
                    '#f1894d',
                    '#00ffff',
                    '#ff9900',
                    'rgba(75, 192, 192, 1)',
                    '#ffff00',
                    '#6aa84f',
                    '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                    formatter: function (value, context) {
                        return value + '%'; // Adiciona o símbolo "%" ao lado do número
                    }
                },
                title: {
                    display: true,
                    text: 'Disponibilidade por Setor', // Define o texto do título do gráfico
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    }
                },
            }
        },
        plugins: [ChartDataLabels]
    });

    var eixo_y = {{ dados_horas_trabalhadas_tipo | safe }};
    var eixo_x = {{ labels_horas_trabalhadas_tipo | safe }};
    var ctx = document.getElementById('grafico7').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'pie', // Alterando o tipo de gráfico para pizza
        data: {
            labels: eixo_x,
            datasets: [{
                label: 'Horas',
                data: eixo_y,
                backgroundColor: [
                    '#1155cc',
                    'rgba(255, 99, 132, 1)',
                    '#b7b7b7',
                    '#0b5394',
                    '#f1c232',
                    '#f1894d',
                    '#00ffff',
                    '#ff9900',
                    'rgba(75, 192, 192, 1)',
                    '#ffff00',
                    '#6aa84f',
                    '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                },
                title: {
                    display: true,
                    text: 'Horas trabalhadas (Tipo)', // Define o texto do título do gráfico
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    }
                },
            }
        },
        plugins: [ChartDataLabels]
    });

    var eixo_y = {{ dados_horas_trabalhadas_area | safe }};
    var eixo_x = {{ labels_horas_trabalhadas_area | safe }};
    var ctx = document.getElementById('grafico8').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'pie', // Alterando o tipo de gráfico para pizza
        data: {
            labels: eixo_x,
            datasets: [{
                label: 'Horas',
                data: eixo_y,
                backgroundColor: [
                    '#1155cc',
                    'rgba(255, 99, 132, 1)',
                    '#b7b7b7',
                    '#0b5394',
                    '#f1c232',
                    '#f1894d',
                    '#00ffff',
                    '#ff9900',
                    'rgba(75, 192, 192, 1)',
                    '#ffff00',
                    '#6aa84f',
                    '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                },
                title: {
                    display: true,
                    text: 'Horas trabalhadas (Área)', // Define o texto do título do gráfico
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    }
                },
            }
        },
        plugins: [ChartDataLabels]
    });

    var eixo_y = {{ dados_horas_trabalhadas_area | safe }};
    var eixo_x = {{ labels_horas_trabalhadas_area | safe }};
    var ctx = document.getElementById('grafico9').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'pie', // Alterando o tipo de gráfico para pizza
        data: {
            labels: eixo_x,
            datasets: [{
                label: 'Horas trabalhadas',
                data: eixo_y,
                backgroundColor: [
                    '#1155cc',
                    'rgba(255, 99, 132, 1)',
                    '#b7b7b7',
                    '#0b5394',
                    '#f1c232',
                    '#f1894d',
                    '#00ffff',
                    '#ff9900',
                    'rgba(75, 192, 192, 1)',
                    '#ffff00',
                    '#6aa84f',
                    '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                },
                title: {
                    display: true,
                    text: 'Horas trabalhadas (setor)', // Define o texto do título do gráfico
                    font: {
                        size: 18, // Define o tamanho da fonte do título
                        weight: 'bold' // Define o peso (negrito) da fonte do título
                    }
                },
            }
        },
        plugins: [ChartDataLabels]
    });

</script>

<script>
    $(document).ready(function () {
        $('.select2').select2();
    });
</script>

{% endblock %}