{% extends "user/layout.html" %}
{% block body %}


<form id = 'form_filtros_graficos' action="{{ url_for('routes.grafico') }}" method="POST">
    <label for="filtro_setor">Setor:</label>
    <select class="select2" id="filtro_setor" name="filtro_setor" value="{{ setor }}" multiple>
        <option value="">Todos</option>
        <option value="">{{setor_selecionado}}</option>
        {% for setor in setores %}
        <option>{{ setor[0] }}</option>
        {% endfor %}
        <option>Manutenção</option>
    </select>
    
    <!-- <label for="area_manutencao">Área de Manutenção:</label>
    <select class="select2"id="area_manutencao" name="area_manutencao">
        <option value="">Todos</option>
        <option value="{{area_manutencao}}" selected disabled hidden>{{area_manutencao}}</option>
        <option value="Predial" >Predial</option>
        <option value="Mecânica" >Mecânica</option>
        <option value="Elétrica" >Elétrica</option>
    </select> -->

    <label for="data_filtro">Mês:</label>
    <select class="select2"id="data_filtro" name="data_filtro">
        <option value="">Todos</option>
        <option value="{{mes}}" selected hidden>{{mes_descrito}}</option>
        <option value="1" disabled>Janeiro</option>
        <option value="2" disabled>Fevereiro</option>
        <option value="3" disabled>Março</option>
        <option value="4" disabled>Abril</option>
        <option value="5" disabled>Maio</option>
        <option value="6" >Junho</option>
        <option value="7" >Julho</option>
        <option value="8" >Agosto</option>
        <option value="9" disabled>Setembro</option>
        <option value="10" disabled>Outubro</option>
        <option value="11" disabled>Novembro</option>
        <option value="12" disabled>Dezembro</option>
    </select>

    <button type="submit">Filtrar</button>
</form>

<div class="cardBox">
    <div class='card'>
        <div>
            <h5 class="card-title">Em Execução</h5> 
            <p class="card-text">{{lista_qt[3]}}</p> 
        </div>  
        <div class="iconBx"> 
            <i class="fa-solid fa-bars-progress"></i>   
        </div>
    </div>
    <div class='card'>
        <div>
            <h5 class="card-title"></i>Em Espera</h5>   
            <p class="card-text">{{lista_qt[0]}}</p>  
        </div>
        <div class="iconBx">
            <i class="fa-solid fa-lock-open"></i>            
        </div>
    </div>
    <div class='card'>
        <div>
            <h5 class="card-title"></i>Finalizadas</h5>    
            <p class="card-text">{{lista_qt[2]}}</p>    
        </div>
        <div class="iconBx">
            <i class="fa-sharp fa-solid fa-square-check"></i>
        </div>
    </div>
    <div class='card'>
        <div>
            <h5 class="card-title">Aguardando material</h5>  
            <p class="card-text">{{lista_qt[1]}}</p>      
        </div>
        <div class="iconBx">
            <i class="fa-solid fa-spinner"></i>          
        </div>            
    </div>

</div>
    <div class="graphBox">
        <div class="box">
            <canvas id="grafico1"></canvas>
            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader">
                        <h3>MTBF por máquina</h3>
                    </div>
                    <table class="table" id="tabela_graficos1">
                        <thead>
                            <tr>
                                <td>Máquina</td>
                                <td>Quantidade</td>
                                <td>Carga</td>
                                <td>MTBF</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for mtbf_maquina in lista_mtbf_maquina %}
                            <tr>
                                <td>{{mtbf_maquina[0]}}</td>
                                <td>{{mtbf_maquina[1]}}</td>
                                <td>{{mtbf_maquina[2]}}</td>
                                <td>{{mtbf_maquina[3]}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="graphBox">
        <div class="box">
            <canvas id="grafico1top10"></canvas>
            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader">
                        <h3>Top 10 menores - MTBF por máquina</h3>
                    </div>
                    <table class="table" id="tabela_grafico1top10">
                        <thead>
                            <tr>
                                <td>Máquina</td>
                                <td>Quantidade</td>
                                <td>Carga</td>
                                <td>MTBF</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for mtbf_maquina_top10 in top_10_maiores_MTBF_lista %}
                            <tr>
                                <td>{{mtbf_maquina_top10[0]}}</td>
                                <td>{{mtbf_maquina_top10[1]}}</td>
                                <td>{{mtbf_maquina_top10[2]}}</td>
                                <td>{{mtbf_maquina_top10[3]}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="graphBox">
        <div class="box">
            <canvas id="grafico2"></canvas>
            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader">
                        <h3>MTBF por setor</h3>
                    </div>
                    <table class="table" id="tabela_graficos2">
                        <thead>
                            <tr>
                                <td>Setor</td>
                                <td>Quant.</td>
                                <td>Carga</td>
                                <td>MTBF</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for mtbf_setor in lista_mtbf_setor %}
                            <tr>
                                <td>{{mtbf_setor[0]}}</td>
                                <td>{{mtbf_setor[1]}}</td>
                                <td>{{mtbf_setor[2]}}</td>
                                <td>{{mtbf_setor[3]}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="graphBox">
        <div class="box">
            <canvas id="grafico3"></canvas>
            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader">
                        <h3>MTTR por máquina</h3>
                    </div>
                    <table class="table" id="tabela_graficos3">
                        <thead>
                            <tr>
                                <td>Máquina</td>
                                <td>Quantidade</td>
                                <td>Diferença</td>
                                <td>MTTR</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for mttr_maquina in lista_mttr_maquina %}
                            <tr>
                                <td>{{mttr_maquina[0]}}</td>
                                <td>{{mttr_maquina[1]}}</td>
                                <td>{{mttr_maquina[2]|round(2)}}</td>
                                <td>{{mttr_maquina[3]|round(2)}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="graphBox">
        <div class="box">
            <canvas id="grafico4"></canvas>
            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader">
                        <h3>MTTR por setor</h3>
                    </div>
                    <table class="table" id="tabela_graficos4">
                        <thead>
                            <tr>
                                <td>Setor</td>
                                <td>Quantidade</td>
                                <td>Carga</td>
                                <td>MTTR</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for mttr_setor in lista_mttr_setor %}
                            <tr>
                                <td>{{mttr_setor[0]}}</td>
                                <td>{{mttr_setor[1]}}</td>
                                <td>{{mttr_setor[2]|round(2)}}</td>
                                <td>{{mttr_setor[3]|round(2)}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="graphBox">
        <div class="box">
            <canvas id="grafico5"></canvas>
            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader">
                        <h3>Disponibilidade Máquina</h3>
                    </div>
                    <table class="table" id="tabela_graficos5">
                        <thead>
                            <tr>
                                <td>Máquina</td>
                                <td>MTBF</td>
                                <td>MTTR</td>
                                <td>Disponibilidade</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for disponibilidade_maquina in lista_disponibilidade_maquina %}
                            <tr>
                                <td>{{disponibilidade_maquina[0]}}</td>
                                <td>{{disponibilidade_maquina[1]}}</td>
                                <td>{{disponibilidade_maquina[2]}}</td>
                                <td>{{disponibilidade_maquina[3]|round(2)}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="graphBox">
        <div class="box">
            <canvas id="grafico6"></canvas>
            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader">
                        <h3>Disponibilidade Setor</h3>
                    </div>
                    <table class="table" id="tabela_graficos6">
                        <thead>
                            <tr>
                                <td>Setor</td>
                                <td>MTBF</td>
                                <td>MTTR</td>
                                <td>Disponibilidade</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for disponibilidade_setor in lista_disponibilidade_setor %}
                            <tr>
                                <td>{{disponibilidade_setor[0]}}</td>
                                <td>{{disponibilidade_setor[1]}}</td>
                                <td>{{disponibilidade_setor[2]}}</td>
                                <td>{{disponibilidade_setor[3]}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div> 
    <div class="graphBox">
        <div class="box2">
            <canvas id="grafico7"></canvas>
            <div class="details2">
                <div class="recentOrders2">
                    <div class="cardHeader">
                        <h3>Horas trabalhadas (tipo de manutenção)</h3>
                    </div>
                    <table class="table" id="tabela_graficos7">
                        <thead>
                            <tr>
                                <td>Tipo de manutenção</td>
                                <td>Horas</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for hora_tipo in lista_horas_trabalhadas_tipo %}
                            <tr>
                                <td>{{hora_tipo [0]}}</td>
                                <td>{{hora_tipo [1]}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            <canvas id="grafico8"></canvas>
            <div class="details2">
                <div class="recentOrders2">
                    <div class="cardHeader">
                        <h3>Horas trabalhadas (área manutenção)</h3>
                    </div>
                    <table class="table" id="tabela_graficos8">
                        <thead>
                            <tr>
                                <td>Área de manutenção</td>
                                <td>Horas</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for hora_area in lista_horas_trabalhadas_area %}
                            <tr>
                                <td>{{hora_area[0]}}</td>
                                <td>{{hora_area[1]}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div> 
    <div class="graphBox">
        <div class="box3">
            <canvas id="grafico9"></canvas>
            <div class="details">
                <div class="recentOrders">
                    <div class="cardHeader">
                        <h3>Horas trabalhadas (por Setor)</h3>
                    </div>
                    <table class="table" id="tabela_graficos9">
                        <thead>
                            <tr>
                                <td>Setor</td>
                                <td>OS</td>
                                <td>Horas</td>
                                <td>Percentual</td>
                            </tr>
                        </thead>
                        <tbody>
                            {% for horas_cc in lista_horas_trabalhadas %}
                            <tr>
                                <td>{{horas_cc[0]}}</td>
                                <td>{{horas_cc[1]}}</td>
                                <td>{{horas_cc[2]|round(2)}}</td>
                                <td>{{horas_cc[3]|round(2)}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    
     
<script>
    // Gráfico MTBF por máquina
    // function setChartSize() {
    //     const canvas = document.getElementById('grafico1');
    //     if (window.innerWidth < 768) { // Para telas menores que 768 pixels (celulares)
    //         canvas.width = 400;
    //         canvas.height = 600;
    //     } else { // Para telas maiores ou iguais a 768 pixels (PC)
    //         canvas.width = 500;
    //         canvas.height = 300;
    //     }
    //     const canvastop10 = document.getElementById('grafico1top10');
    //     if (window.innerWidth < 768) { // Para telas menores que 768 pixels (celulares)
    //         canvastop10.width = 400;
    //         canvastop10.height = 600;
    //     } else { // Para telas maiores ou iguais a 768 pixels (PC)
    //         canvastop10.width = 500;
    //         canvastop10.height = 300;
    //     }
    //     const canvas2 = document.getElementById('grafico2');
    //         if (window.innerWidth < 768) { // Para telas menores que 768 pixels (celulares)
    //             canvas2.width = 400;
    //             canvas2.height = 600;
    //         } else { // Para telas maiores ou iguais a 768 pixels (PC)
    //             canvas2.width = 500;
    //             canvas2.height = 300;
    //         }
    //     const canvas3 = document.getElementById('grafico3');
    //         if (window.innerWidth < 768) { // Para telas menores que 768 pixels (celulares)
    //             canvas3.width = 400;
    //             canvas3.height = 600;
    //         } else { // Para telas maiores ou iguais a 768 pixels (PC)
    //             canvas3.width = 500;
    //             canvas3.height = 300;
    //         }
        
    //     const canvas4 = document.getElementById('grafico4');
    //         if (window.innerWidth < 768) { // Para telas menores que 768 pixels (celulares)
    //             canvas4.width = 400;
    //             canvas4.height = 600;
    //         } else { // Para telas maiores ou iguais a 768 pixels (PC)
    //             canvas4.width = 500;
    //             canvas4.height = 300;
    //         }
        
    //     const canvas5 = document.getElementById('grafico5');
    //         if (window.innerWidth < 768) { // Para telas menores que 768 pixels (celulares)
    //             canvas5.width = 400;
    //             canvas5.height = 600;
    //         } else { // Para telas maiores ou iguais a 768 pixels (PC)
    //             canvas5.width = 500;
    //             canvas5.height = 300;
    //         }
        
    //     const canvas6 = document.getElementById('grafico6');
    //         if (window.innerWidth < 768) { // Para telas menores que 768 pixels (celulares)
    //             canvas6.width = 400;
    //             canvas6.height = 600;
    //         } else { // Para telas maiores ou iguais a 768 pixels (PC)
    //             canvas6.width = 500;
    //             canvas6.height = 300;
    //         }
    //     const canvas7 = document.getElementById('grafico7');
    //         if (window.innerWidth < 768) { // Para telas menores que 768 pixels (celulares)
    //             canvas7.width = 300;
    //             canvas7.height = 300;
    //         } else { // Para telas maiores ou iguais a 768 pixels (PC)
    //             canvas7.width = 400;
    //             canvas7.height = 400;
    //         }
    //     const canvas8 = document.getElementById('grafico8');
    //         if (window.innerWidth < 768) { // Para telas menores que 768 pixels (celulares)
    //             canvas8.width = 300;
    //             canvas8.height = 300;
    //         } else { // Para telas maiores ou iguais a 768 pixels (PC)
    //             canvas8.width = 400;
    //             canvas8.height = 400;
    //         }
    //     }
    // Chame a função para definir o tamanho do gráfico inicialmente e também adicione um ouvinte de evento para atualizar o tamanho quando a janela for redimensionada.
    // setChartSize();
    // window.addEventListener('resize', setChartSize);

    var eixo_y = {{ dados_mtbf_maquina | safe }};
    var eixo_x = {{ labels_mtbf_maquina | safe }};
    var ctx = document.getElementById('grafico1').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 14 // Define o tamanho da fonte dos rótulos
                    },
                label: 'MTBF',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 205, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(201, 203, 207, 1)'
                ],
                borderColor: [
                'rgb(255, 99, 132)',
                'rgb(255, 159, 64)',
                'rgb(255, 205, 86)',
                'rgb(75, 192, 192)',
                'rgb(54, 162, 235)',
                'rgb(153, 102, 255)',
                'rgb(201, 203, 207)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                display: true, // Defina como false para remover as grades do eixo x
            },
                y: {
                display: true, // Defina como false para remover as grades do eixo y
            }
            },
            plugins: {
            title: {
                display: true,
                text: 'MTBF por máquina',
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                },
                padding: {
                    top: 10,
                    bottom: 30
                }
            }
        }
        }
    });

    var eixo_y = {{ dados_mtbf_top10_maquina | safe }};
    var eixo_x = {{ labels_mtbf_top10_maquina | safe }};
    var ctx = document.getElementById('grafico1top10').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 14 // Define o tamanho da fonte dos rótulos
                    },
                label: 'MTBF',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 205, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(201, 203, 207, 1)'
                ],
                borderColor: [
                'rgb(255, 99, 132)',
                'rgb(255, 159, 64)',
                'rgb(255, 205, 86)',
                'rgb(75, 192, 192)',
                'rgb(54, 162, 235)',
                'rgb(153, 102, 255)',
                'rgb(201, 203, 207)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            indexAxis: 'y',
            scales: {
                x: {
                display: true, // Defina como false para remover as grades do eixo x
            },
                y: {
                display: true, // Defina como false para remover as grades do eixo y
            }
            },
            plugins: {
            title: {
                display: true,
                text: 'MTBF por máquina (top 10 - Menores)',
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                },
                padding: {
                    top: 10,
                    bottom: 30
                }
            }
        }
        }
    });
    // Gráfico MTBF por setor

    var eixo_y = {{ dados_mtbf_setor | safe }};
    var eixo_x = {{ labels_mtbf_setor | safe }};
    var ctx = document.getElementById('grafico2').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 14 // Define o tamanho da fonte dos rótulos
                    },
                label: 'MTBF',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                '#1155cc',
                'rgba(255, 99, 132, 1)',
                '#b7b7b7',
                '#0b5394',
                '#f1c232',
                '#f1894d',
                '#00ffff',
                '#ff9900',
                'rgba(75, 192, 192, 1)',
                '#ffff00',
                '#6aa84f',
                '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold'
                    },
                },
                title: {
                display: true,
                text: 'MTBF por setor (horas)', // Define o texto do título do gráfico
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                }
            },
            }
        },
        plugins: [ChartDataLabels]
    });

    // Gráfico MTTR por máquina

    var eixo_y = {{ dados_mttr_maquina | safe }};
    var eixo_x = {{ labels_mttr_maquina | safe }};
    var ctx = document.getElementById('grafico3').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                label: 'MTTR',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 205, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(201, 203, 207, 1)'
                ],
                borderColor: [
                'rgb(255, 99, 132)',
                'rgb(255, 159, 64)',
                'rgb(255, 205, 86)',
                'rgb(75, 192, 192)',
                'rgb(54, 162, 235)',
                'rgb(153, 102, 255)',
                'rgb(201, 203, 207)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                display: true, // Defina como false para remover as grades do eixo x
            },
                y: {
                display: true, // Defina como false para remover as grades do eixo y
            }
            },
            plugins: {
            title: {
                display: true,
                text: 'MTTR por máquina',
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                },            
                padding: {
                    top: 10,
                    bottom: 30
                }
            }
        }
        }
    });

    // Gráfico MTTR por setor

    var eixo_y = {{ dados_mttr_setor | safe }};
    var eixo_x = {{ labels_mttr_setor | safe }};
    var ctx = document.getElementById('grafico4').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                label: 'MTTR',
                data: eixo_y,
                fill: false,
                tension: 0.1,
                backgroundColor: [
                '#1155cc',
                'rgba(255, 99, 132, 1)',
                '#b7b7b7',
                '#0b5394',
                '#f1c232',
                '#f1894d',
                '#00ffff',
                '#ff9900',
                'rgba(75, 192, 192, 1)',
                '#ffff00',
                '#6aa84f',
                '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                },
                title: {
                display: true,
                text: 'MTTR por setor (horas)', // Define o texto do título do gráfico
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                }
            },
            }
        },
        plugins: [ChartDataLabels]
    });

    // Disponibilidade por maquina

    var eixo_y = {{ dados_disponibilidade_maquina | safe }};
    var eixo_x = {{ labels_disponibilidade_maquina | safe }};
    var ctx = document.getElementById('grafico5').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: eixo_x,
            datasets: [{
                color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                label: 'Disponibilidade',
                data: eixo_y,
                backgroundColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 205, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(201, 203, 207, 1)'
                ],
                borderColor: [
                'rgb(255, 99, 132)',
                'rgb(255, 159, 64)',
                'rgb(255, 205, 86)',
                'rgb(75, 192, 192)',
                'rgb(54, 162, 235)',
                'rgb(153, 102, 255)',
                'rgb(201, 203, 207)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                display: true, // Defina como false para remover as grades do eixo x
            },
                y: {
                display: true, // Defina como false para remover as grades do eixo y
            }
            },
            plugins: {
            title: {
                display: true,
                text: 'Disponibilidade por máquina',
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                },
                padding: {
                    top: 10,
                    bottom: 30
                }
            }
        }
        
        }
    });

    // Disponibilidade por setor
    
    var eixo_y = {{ dados_disponibilidade_setor | safe }};
    var eixo_x = {{ labels_disponibilidade_setor | safe }};
    var ctx = document.getElementById('grafico6').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'bar', // Alterando o tipo de gráfico para pizza
        data: {
            labels: eixo_x,
            datasets: [{
                label: 'Disponibilidade',
                data: eixo_y,
                backgroundColor: [
                '#1155cc',
                'rgba(255, 99, 132, 1)',
                '#b7b7b7',
                '#0b5394',
                '#f1c232',
                '#f1894d',
                '#00ffff',
                '#ff9900',
                'rgba(75, 192, 192, 1)',
                '#ffff00',
                '#6aa84f',
                '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                    formatter: function(value, context) {
                        return value + '%'; // Adiciona o símbolo "%" ao lado do número
                    }
                },
                title: {
                display: true,
                text: 'Disponibilidade por Setor', // Define o texto do título do gráfico
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                }
            },
            }
        },
        plugins: [ChartDataLabels]
    });
    
    var eixo_y = {{ dados_horas_trabalhadas_tipo | safe }};
    var eixo_x = {{ labels_horas_trabalhadas_tipo | safe }};
    var ctx = document.getElementById('grafico7').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'pie', // Alterando o tipo de gráfico para pizza
        data: {
            labels: eixo_x,
            datasets: [{
                label: 'Horas',
                data: eixo_y,
                backgroundColor: [
                '#1155cc',
                'rgba(255, 99, 132, 1)',
                '#b7b7b7',
                '#0b5394',
                '#f1c232',
                '#f1894d',
                '#00ffff',
                '#ff9900',
                'rgba(75, 192, 192, 1)',
                '#ffff00',
                '#6aa84f',
                '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                },
                title: {
                display: true,
                text: 'Horas trabalhadas (Tipo)', // Define o texto do título do gráfico
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                }
            },
            }
        },
        plugins: [ChartDataLabels]
    });
    

    var eixo_y = {{ dados_horas_trabalhadas_area | safe }};
    var eixo_x = {{ labels_horas_trabalhadas_area | safe }};
    var ctx = document.getElementById('grafico8').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'pie', // Alterando o tipo de gráfico para pizza
        data: {
            labels: eixo_x,
            datasets: [{
                label: 'Horas',
                data: eixo_y,
                backgroundColor: [
                '#1155cc',
                'rgba(255, 99, 132, 1)',
                '#b7b7b7',
                '#0b5394',
                '#f1c232',
                '#f1894d',
                '#00ffff',
                '#ff9900',
                'rgba(75, 192, 192, 1)',
                '#ffff00',
                '#6aa84f',
                '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                },
                title: {
                display: true,
                text: 'Horas trabalhadas (Área)', // Define o texto do título do gráfico
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                }
            },
            }
        },
        plugins: [ChartDataLabels]
    });

    var eixo_y = {{ dados_horas_trabalhadas | safe }};
    var eixo_x = {{ labels_horas_trabalhadas | safe }};
    var ctx = document.getElementById('grafico9').getContext('2d');

    var grafico = new Chart(ctx, {
        type: 'pie', // Alterando o tipo de gráfico para pizza
        data: {
            labels: eixo_x,
            datasets: [{
                label: 'Horas trabalhadas',
                data: eixo_y,
                backgroundColor: [
                '#1155cc',
                'rgba(255, 99, 132, 1)',
                '#b7b7b7',
                '#0b5394',
                '#f1c232',
                '#f1894d',
                '#00ffff',
                '#ff9900',
                'rgba(75, 192, 192, 1)',
                '#ffff00',
                '#6aa84f',
                '#00ff00'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                datalabels: {
                    color: 'black', // Define a cor dos rótulos para branco
                    font: {
                        size: 10, // Define o tamanho da fonte dos rótulos
                        weight: 'bold' // Define o tamanho da fonte dos rótulos
                    },
                },
                title: {
                display: true,
                text: 'Horas trabalhadas (setor)', // Define o texto do título do gráfico
                font: {
                    size: 18, // Define o tamanho da fonte do título
                    weight: 'bold' // Define o peso (negrito) da fonte do título
                }
            },
            }
        },
        plugins: [ChartDataLabels]
    });

</script>

<script>
    $(document).ready(function() {
      $('.select2').select2();
    });
</script>

{% endblock %}