{% extends "layout.html" %}
{% block body %}

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class="flash">
      {% for message in messages %}
        {% if message == 'Máquina cadastrada com sucesso' %}
          <div class="alert alert-success">
            <a class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>Success! </strong> {{ message }}
          </div>
        {% else %}
          <div class="alert alert-danger">
            <a class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>Danger! </strong> {{ message }}
          </div>
        {% endif %}
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}


<div class='row'>
  <div class="card card-body">
    <form action="{{ url_for('plan_52semanas') }}" method="POST">
        <table>
            <thead>
                <tr>
                    <td>Codigo</td>
                    <td>Descrição</td>
                    <td>Setor</td>
                    <td>Criticidade</td>
                    <td>Data inicial</td>
                    <td>Periodicidade</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" class="form-control" name="codigo" required></td>
                    <td><input type="text" class="form-control" name="descricao" required></td>
                    <td><input type="text" class="form-control" name="setor" required></td>
                    <td><input type="text" class="form-control" name="criticidade" required></td>
                    <td><input type="date" class="form-control" name="manut_inicial" required></td>
                    <td><input type="text" class="form-control" name="periodicidade" required></td>
                </tr>
            </tbody>
        </table>
        <br>
        <button class="btn btn-primary btn-block">
            Inserir 
        </button>
    </form>
  </div>
</div>

<br>

<div class='row'>
  <div style="overflow-x: auto;">
    <table id="table2" class="table table-striped" style="width: 100%";>
      <thead>
        <tr>
          {% for coluna in colunas %}
            <th style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{ coluna }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for row in data %}
          <tr style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
              <td>{{ row[0] }}</td>
              <td>{{ row[1] }}</td>
              <td>{{ row[2] }}</td>
              <td>{{ row[3] }}</td>
              <td>{{ row[4] }}</td>
              <td>{{ row[5] }}</td>
              <td>{{ row[6] }}</td>
              <td>{{ row[7] }}</td>
              <td>{{ row[8] }}</td>
              <td>{{ row[9] }}</td>
              <td>{{ row[10] }}</td>
              <td>{{ row[11] }}</td>
              <td>{{ row[12] }}</td>
              <td>{{ row[13] }}</td>
              <td>{{ row[14] }}</td>
              <td>{{ row[15] }}</td>
              <td>{{ row[16] }}</td>
              <td>{{ row[17] }}</td>
              <td>{{ row[18] }}</td>
              <td>{{ row[19] }}</td>
              <td>{{ row[20] }}</td>
              <td>{{ row[21] }}</td>
              <td>{{ row[22] }}</td>
              <td>{{ row[23] }}</td>
              <td>{{ row[24] }}</td>
              <td>{{ row[25] }}</td>
              <td>{{ row[26] }}</td>
              <td>{{ row[27] }}</td>
              <td>{{ row[28] }}</td>
              <td>{{ row[29] }}</td>
              <td>{{ row[30] }}</td>
              <td>{{ row[31] }}</td>
              <td>{{ row[32] }}</td>
              <td>{{ row[33] }}</td>
              <td>{{ row[34] }}</td>
              <td>{{ row[35] }}</td>
              <td>{{ row[36] }}</td>
              <td>{{ row[37] }}</td>
              <td>{{ row[38] }}</td>
              <td>{{ row[39] }}</td>
              <td>{{ row[40] }}</td>
              <td>{{ row[41] }}</td>
              <td>{{ row[42] }}</td>
              <td>{{ row[42] }}</td>
              <td>{{ row[44] }}</td>
              <td>{{ row[45] }}</td>
              <td>{{ row[46] }}</td>
              <td>{{ row[47] }}</td>
              <td>{{ row[48] }}</td>
              <td>{{ row[49] }}</td>
              <td>{{ row[50] }}</td>
              <td>{{ row[51] }}</td>
              <td>{{ row[52] }}</td>
              <td>{{ row[53] }}</td>
              <td>{{ row[54] }}</td>
              <td>{{ row[55] }}</td>
              <td>{{ row[56] }}</td>
              <td>{{ row[57] }}</td>
          </tr>
          {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}